<section class="body-font w-full h-auto md:px-20 px-4 sm:py-16 py-12">
  <div class="w-full flex mb-4 md:mb-10">
    <div class="md:w-2/12"></div>
    <div class="md:w-8/12 text-center">
      <p class="sm:text-4xl md:text-5xl text-3xl font-semibold">
        What
        <span class="text-secondary">successful business owners</span> have to
        say about us
      </p>
      <p class="text-center pt-4 mb-6 md:text-lg">
        A few brave businesses ready to take their brands to the next phase have
        tried us so far and here's what they had to say.
      </p>
    </div>
    <div class="md:w-2/12"></div>
  </div>

  <div class="w-full hidden lg:flex items-center justify-between">
    <button
      class="w-1/12"
      (click)="previousSlide()"
      aria-label="Previous testimonial"
    >
      <div
        class="w-12 h-12 flex rounded-full justify-center border-2 border-primary items-center"
      >
        <app-forward-icon class="w-6 h-6 rotate-90"></app-forward-icon>
      </div>
    </button>
    <div *ngFor="let content of comments; index as j">
      <div
        class="slide w-auto bg-primary rounded-2xl mx-12"
        *ngIf="j === currentSlide"
        role="region"
        [attr.aria-label]="'Testimonial ' + (j + 1) + ' of ' + comments.length"
      >
        <div class="w-full h-[500px] flex">
          <div class="p-8 w-7/12">
            <p class="h-auto text-3xl md:text-5xl text-white font-bold">
              {{ content.subtext }}
            </p>
            <p class="h-auto md:text-lg py-8 text-gray-400">
              {{ content.text }}
            </p>
            <p class="text-white text-lg">{{ content.name }}</p>
            <p class="text-gray-400 text-lg">{{ content.business }}</p>
          </div>
          <div class="w-5/12 flex">
            <div class="w-1/6"></div>
            <img
              [src]="content.avatar"
              [alt]="content.name + '\'s photo'"
              class="w-5/6 h-full rounded-r-2xl object-cover"
              loading="lazy"
            />
          </div>
        </div>
      </div>
    </div>

    <button class="w-1/12" (click)="nextSlide()" aria-label="Next testimonial">
      <div
        class="w-12 h-12 flex rounded-full justify-center border-2 border-primary items-center"
      >
        <app-forward-icon class="w-6 h-6"></app-forward-icon>
      </div>
    </button>
  </div>

  <div class="block lg:hidden">
    <div class="w-full" *ngFor="let content of comments; index as j">
      <div class="slide bg-primary rounded-2xl" *ngIf="j === currentSlide">
        <div class="w-full">
          <div
            class="w-full h-[260px] bg-cover bg-top bg-no-repeat rounded-t-2xl"
            [ngClass]="content.avatar"
          ></div>
          <div class="p-8">
            <p class="h-auto text-3xl md:text-3xl text-white font-bold">
              {{ content.subtext }}
            </p>
            <p class="h-auto md:text-base py-8 text-gray-500">
              {{ content.text }}
            </p>
            <p class="text-white">{{ content.name }}</p>
            <p class="text-gray-500">{{ content.business }}</p>
          </div>
        </div>
      </div>
    </div>
    <div class="w-full flex justify-center mt-8">
      <div class="flex gap-8">
        <button (click)="previousSlide()">
          <div
            class="w-12 h-12 flex rounded-full justify-center border-2 border-primary items-center"
          >
            <app-forward-icon class="w-6 h-6 rotate-90"></app-forward-icon>
          </div>
        </button>
        <button (click)="nextSlide()">
          <div
            class="w-12 h-12 flex rounded-full justify-center border-2 border-primary items-center"
          >
            <app-forward-icon class="w-6 h-6"></app-forward-icon>
          </div>
        </button>
      </div>
    </div>
  </div>
</section>
