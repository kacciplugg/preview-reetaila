<app-navbar></app-navbar>

<main class="min-h-screen bg-white py-16 px-4 sm:px-6 lg:px-8">
  <div class="max-w-2xl mx-auto text-center">
    <h1 class="text-4xl md:text-5xl font-bold text-[#1a1f36] mb-4">
      Be the first to experience Reetaila!
    </h1>
    <p class="text-gray-600 mb-12 md:text-lg">
      We're launching soon, and you don't want to miss out! By joining the
      waitlist, you'll be among the first to experience Reetaila's powerful
      features, exclusive perks, and special offers before anyone else.
    </p>

    <form (ngSubmit)="onSubmit()" #waitlistForm="ngForm" class="space-y-6">
      <div class="space-y-4">
        <div>
          <input
            type="text"
            [(ngModel)]="formData.fullName"
            name="fullName"
            placeholder="Enter your full name"
            class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary"
            [class.border-red-500]="formErrors.fullName"
            required
          />
          <div
            *ngIf="formErrors.fullName"
            class="text-red-500 text-sm text-left mt-1"
          >
            {{ formErrors.fullName }}
          </div>
        </div>

        <div>
          <input
            type="text"
            [(ngModel)]="formData.businessName"
            name="businessName"
            placeholder="Enter your business name"
            class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary"
            [class.border-red-500]="formErrors.businessName"
            required
          />
          <div
            *ngIf="formErrors.businessName"
            class="text-red-500 text-sm text-left mt-1"
          >
            {{ formErrors.businessName }}
          </div>
        </div>

        <div>
          <input
            type="email"
            [(ngModel)]="formData.email"
            name="email"
            placeholder="Enter your email address"
            class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary"
            [class.border-red-500]="formErrors.email"
            required
            email
          />
          <div
            *ngIf="formErrors.email"
            class="text-red-500 text-sm text-left mt-1"
          >
            {{ formErrors.email }}
          </div>
        </div>

        <div *ngIf="errorMessage" class="text-red-500 text-sm text-left mt-1">
          {{ errorMessage }}
        </div>
      </div>

      <div class="text-left">
        <p class="text-gray-700 font-medium mb-3">
          What interests you the most about Reetaila?
        </p>
        <div class="space-y-3">
          <label class="flex items-center">
            <input
              type="checkbox"
              [checked]="formData.selectedInterests.includes('website')"
              (change)="onInterestChange('website', $event)"
              name="interests"
              class="form-checkbox text-primary h-5 w-5"
            />
            <span class="ml-2 text-gray-700">{{
              formData.interests["website"]
            }}</span>
          </label>
          <label class="flex items-center">
            <input
              type="checkbox"
              [checked]="formData.selectedInterests.includes('products')"
              (change)="onInterestChange('products', $event)"
              name="interests"
              class="form-checkbox text-primary h-5 w-5"
            />
            <span class="ml-2 text-gray-700">{{
              formData.interests["products"]
            }}</span>
          </label>
          <label class="flex items-center">
            <input
              type="checkbox"
              [checked]="formData.selectedInterests.includes('customers')"
              (change)="onInterestChange('customers', $event)"
              name="interests"
              class="form-checkbox text-primary h-5 w-5"
            />
            <span class="ml-2 text-gray-700">{{
              formData.interests["customers"]
            }}</span>
          </label>
          <label class="flex items-center">
            <input
              type="checkbox"
              [checked]="formData.selectedInterests.includes('payments')"
              (change)="onInterestChange('payments', $event)"
              name="interests"
              class="form-checkbox text-primary h-5 w-5"
            />
            <span class="ml-2 text-gray-700">{{
              formData.interests["payments"]
            }}</span>
          </label>
          <label class="flex items-center">
            <input
              type="checkbox"
              [checked]="formData.selectedInterests.includes('analytics')"
              (change)="onInterestChange('analytics', $event)"
              name="interests"
              class="form-checkbox text-primary h-5 w-5"
            />
            <span class="ml-2 text-gray-700">{{
              formData.interests["analytics"]
            }}</span>
          </label>
        </div>
      </div>

      <textarea
        [(ngModel)]="formData.additionalInfo"
        name="additionalInfo"
        placeholder="Any additional thing you want us to know?"
        rows="4"
        class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary"
      ></textarea>

      <button
        type="submit"
        [disabled]="isSubmitting"
        class="w-full bg-primary text-white font-medium rounded-lg px-6 py-3 flex items-center justify-center gap-2 hover:bg-primary/90 transition-all duration-500 ease-in-out disabled:opacity-50 transform hover:scale-[1.02]"
      >
        <svg
          *ngIf="isSubmitting"
          class="animate-spin h-5 w-5 text-white [animation-duration:1.5s]"
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
        >
          <circle
            class="opacity-25"
            cx="12"
            cy="12"
            r="10"
            stroke="currentColor"
            stroke-width="4"
          ></circle>
          <path
            class="opacity-75"
            fill="currentColor"
            d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
          ></path>
        </svg>
        {{ isSubmitting ? "Submitting..." : "Join Waitlist" }}
      </button>
    </form>
  </div>
</main>

<app-footer></app-footer>
