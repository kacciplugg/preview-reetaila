<app-navbar></app-navbar>

<main class="min-h-screen bg-white py-16 px-4 sm:px-6 lg:px-8">
  <div class="max-w-2xl mx-auto text-center">
    <h1 class="text-4xl md:text-5xl font-bold text-[#1a1f36] mb-4">
      Be the first to experience Reetaila!
    </h1>
    <p class="text-gray-600 mb-12 md:text-lg">
      We're launching soon, and you don't want to miss out! By joining the
      waitlist, you'll be among the first to experience Reetaila's powerful
      features, exclusive perks, and special offers before anyone else.
    </p>

    <form (ngSubmit)="onSubmit()" #waitlistForm="ngForm" class="space-y-6">
      <div class="space-y-4">
        <div>
          <input
            type="text"
            [(ngModel)]="formData.fullName"
            name="fullName"
            #fullName="ngModel"
            placeholder="Enter your full name"
            class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary"
            required
          />
          <div
            *ngIf="
              fullName.invalid &&
              (fullName.dirty || fullName.touched) &&
              !isSubmitting
            "
            class="text-red-500 text-sm text-left mt-1"
          >
            Full name is required
          </div>
        </div>

        <div>
          <input
            type="text"
            [(ngModel)]="formData.businessName"
            name="businessName"
            #businessName="ngModel"
            placeholder="Enter your business name"
            class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary"
            required
          />
          <div
            *ngIf="
              businessName.invalid &&
              (businessName.dirty || businessName.touched) &&
              !isSubmitting
            "
            class="text-red-500 text-sm text-left mt-1"
          >
            Business name is required
          </div>
        </div>

        <div>
          <input
            type="email"
            [(ngModel)]="formData.email"
            name="email"
            #email="ngModel"
            placeholder="Enter your email address"
            class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary"
            required
            email
          />
          <div
            *ngIf="
              email.invalid && (email.dirty || email.touched) && !isSubmitting
            "
            class="text-red-500 text-sm text-left mt-1"
          >
            <div *ngIf="email.errors?.['required']">Email is required</div>
            <div *ngIf="email.errors?.['email']">
              Please enter a valid email address
            </div>
          </div>
        </div>

        <div *ngIf="errorMessage" class="text-red-500 text-sm text-left mt-1">
          {{ errorMessage }}
        </div>
      </div>

      <div class="text-left">
        <p class="text-gray-700 font-medium mb-3">
          What interests you the most about Reetaila?
        </p>
        <div class="space-y-3">
          <label class="flex items-center">
            <input
              type="checkbox"
              [(ngModel)]="formData.interests.website"
              name="interests.website"
              class="form-checkbox text-primary h-5 w-5"
            />
            <span class="ml-2 text-gray-700">Having my own website</span>
          </label>
          <label class="flex items-center">
            <input
              type="checkbox"
              [(ngModel)]="formData.interests.products"
              name="interests.products"
              class="form-checkbox text-primary h-5 w-5"
            />
            <span class="ml-2 text-gray-700">Managing my products</span>
          </label>
          <label class="flex items-center">
            <input
              type="checkbox"
              [(ngModel)]="formData.interests.customers"
              name="interests.customers"
              class="form-checkbox text-primary h-5 w-5"
            />
            <span class="ml-2 text-gray-700">Reaching my customers easily</span>
          </label>
          <label class="flex items-center">
            <input
              type="checkbox"
              [(ngModel)]="formData.interests.payments"
              name="interests.payments"
              class="form-checkbox text-primary h-5 w-5"
            />
            <span class="ml-2 text-gray-700">Receiving payments online</span>
          </label>
          <label class="flex items-center">
            <input
              type="checkbox"
              [(ngModel)]="formData.interests.analytics"
              name="interests.analytics"
              class="form-checkbox text-primary h-5 w-5"
            />
            <span class="ml-2 text-gray-700"
              >My business' analytics and stats</span
            >
          </label>
        </div>
      </div>

      <textarea
        [(ngModel)]="formData.additionalInfo"
        name="additionalInfo"
        placeholder="Any additional thing you want us to know?"
        rows="4"
        class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary"
      ></textarea>

      <button
        type="submit"
        [disabled]="!waitlistForm.form.valid || isSubmitting"
        class="w-full sm:w-auto px-8 py-3 bg-primary text-white rounded-lg font-medium hover:bg-primary/90 transition-colors flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed"
      >
        <span class="flex items-center gap-2">
          <svg
            *ngIf="isSubmitting"
            class="animate-spin h-5 w-5 text-white"
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
          >
            <circle
              class="opacity-25"
              cx="12"
              cy="12"
              r="10"
              stroke="currentColor"
              stroke-width="4"
            ></circle>
            <path
              class="opacity-75"
              fill="currentColor"
              d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
            ></path>
          </svg>
          {{ isSubmitting ? "Submitting..." : "Sign me up" }}
        </span>
        <svg
          *ngIf="!isSubmitting"
          xmlns="http://www.w3.org/2000/svg"
          class="h-5 w-5"
          viewBox="0 0 20 20"
          fill="currentColor"
        >
          <path
            fill-rule="evenodd"
            d="M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z"
            clip-rule="evenodd"
          />
        </svg>
      </button>
    </form>
  </div>
</main>

<app-footer></app-footer>
